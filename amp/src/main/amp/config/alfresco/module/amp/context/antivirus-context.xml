<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>
<beans>
	<bean
		class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="ignoreUnresolvablePlaceholders">
			<value>true</value>
		</property>
		<property name="locations">
			<list>
				<value>classpath:alfresco/extension/alfviral.properties</value>
			</list>
		</property>
	</bean>

	<bean id="alfviral.instreamscan" class="com.fegor.alfresco.security.antivirus.InStreamScan">
		<property name="nodeService">
			<ref bean="nodeService" />
		</property>
		<property name="host">
			<value>${alfviral.host}</value>
		</property>
		<property name="port">
			<value>${alfviral.port}</value>
		</property>
		<property name="timeout">
			<value>${alfviral.timeout}</value>
		</property>
		<property name="chunkSize">
			<value>${alfviral.chunkSize}</value>
		</property>
	</bean>

	<bean id="alfviral.commandscan" class="com.fegor.alfresco.security.antivirus.CommandScan">
		<property name="nodeService">
			<ref bean="nodeService" />
		</property>
		<property name="command">
			<value>${alfviral.command}</value>
		</property>
	</bean>

	<bean id="alfviral.virustotalscan" class="com.fegor.alfresco.security.antivirus.VirusTotalScan">
		<property name="nodeService">
			<ref bean="nodeService" />
		</property>
		<property name="key">
			<value>${vt.key}</value>
		</property>
		<property name="urlScan">
			<value>${vt.url}</value>
		</property>
	</bean>
	
    <bean id="alfviral.icapscan" class="com.fegor.alfresco.security.antivirus.ICAPScan">
        <property name="nodeService">
            <ref bean="nodeService" />
        </property>
        <property name="host">
            <value>${alfviral.icap.host}</value>
        </property>
        <property name="port">
            <value>${alfviral.icap.port}</value>
        </property>
        <property name="service">
            <value>${alfviral.icap.service}</value>
        </property>        
        <property name="timeout">
            <value>${alfviral.timeout}</value>
        </property>
        <property name="chunkSize">
            <value>${alfviral.chunkSize}</value>
        </property>
    </bean>	
</beans>
